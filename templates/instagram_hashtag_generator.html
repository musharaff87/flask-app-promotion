{% extends "base.html" %}
{% block title %}Free Instagram Hashtag Generator - AI Powered Trending Tags 2024 | Mushtastic Intelligence{% endblock %}
{% block content %}
<div class="container py-5">
    <!-- Hero Section -->
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold text-primary">üì∑ Instagram Hashtag Generator</h1>
        <p class="lead mb-4">Generate trending Instagram hashtags instantly with AI - 100% FREE forever!</p>
        <div class="row text-center mb-4">
            <div class="col-6 col-md-3">
                <div class="stat-number text-success h3">100%</div>
                <small>Free</small>
            </div>
            <div class="col-6 col-md-3">
                <div class="stat-number text-primary h3">50+</div>
                <small>Tags</small>
            </div>
            <div class="col-6 col-md-3">
                <div class="stat-number text-warning h3">5M+</div>
                <small>Generated</small>
            </div>
            <div class="col-6 col-md-3">
                <div class="stat-number text-info h3">24/7</div>
                <small>Available</small>
            </div>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Generator Form -->
            <div class="card shadow-lg mb-4">
                <div class="card-body p-4">
                    <form id="tagGeneratorForm">
                        <div class="mb-4">
                            <label for="contentPrompt" class="form-label fw-bold">Describe your Instagram post:</label>
                            <textarea
                                class="form-control form-control-lg"
                                id="contentPrompt"
                                rows="4"
                                placeholder="E.g., Beautiful sunset photo at the beach with friends, vacation vibes, summer evening, golden hour photography..."
                                required
                            ></textarea>
                            <div class="form-text">üí° Be detailed! Mention location, mood, style, colors, activities - the more specific, the better hashtags we generate!</div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-4 mb-3">
                                <label for="tagStyle" class="form-label fw-bold">Hashtag Strategy:</label>
                                <select class="form-select" id="tagStyle">
                                    <option value="trending">üî• Trending (Maximum reach)</option>
                                    <option value="niche">üéØ Niche (Engaged audience)</option>
                                    <option value="mixed" selected>‚öñÔ∏è Mixed (Balanced approach)</option>
                                    <option value="viral">‚ú® Viral (Trending + Popular)</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="tagCount" class="form-label fw-bold">Number of hashtags:</label>
                                <select class="form-select" id="tagCount">
                                    <option value="15">15 hashtags</option>
                                    <option value="20">20 hashtags</option>
                                    <option value="30" selected>30 hashtags (Instagram Max)</option>
                                    <option value="40">40 hashtags</option>
                                    <option value="50">50 hashtags</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="contentType" class="form-label fw-bold">Content Type:</label>
                                <select class="form-select" id="contentType">
                                    <option value="photo">üì∏ Photo Post</option>
                                    <option value="video">üé• Video/Reel</option>
                                    <option value="carousel">üñºÔ∏è Carousel</option>
                                    <option value="story">üì± Story</option>
                                </select>
                            </div>
                        </div>

                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg py-3">
                                <span class="spinner-border spinner-border-sm d-none me-2" id="loadingSpinner"></span>
                                <span id="buttonText">Generate Instagram Hashtags ‚ú®</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="d-none">
                <div class="card shadow-lg">
                    <div class="card-header bg-primary text-white">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="mb-0">üéâ Generated Instagram Hashtags</h5>
                            <div class="btn-group" role="group">
                                <button class="btn btn-light btn-sm" id="copyAllBtn">
                                    <i class="fas fa-copy"></i> Copy All
                                </button>
                                <button class="btn btn-outline-light btn-sm" id="copyTextOnlyBtn">
                                    Text Only
                                </button>
                                <button class="btn btn-outline-light btn-sm" id="regenerateBtn">
                                    <i class="fas fa-refresh"></i> Generate More
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="hashtagResults" class="hashtag-container mb-4"></div>
                        
                        <!-- Copy Options -->
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <h6 class="fw-bold">üìã Quick Copy Options:</h6>
                                <div class="d-flex flex-wrap gap-2">
                                    <button class="btn btn-outline-primary btn-sm" onclick="copyFormatted('hash')">With #</button>
                                    <button class="btn btn-outline-secondary btn-sm" onclick="copyFormatted('space')">Space Separated</button>
                                    <button class="btn btn-outline-success btn-sm" onclick="copyFormatted('comma')">Comma Separated</button>
                                    <button class="btn btn-outline-info btn-sm" onclick="copyFormatted('lines')">Line by Line</button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6 class="fw-bold">üìä Stats:</h6>
                                <div id="statsContainer">
                                    <small class="text-muted">
                                        <span id="tagStats">0 hashtags generated</span> ‚Ä¢
                                        <span id="characterCount">0 characters</span>
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- Tips Section -->
                        <div class="bg-light p-3 rounded">
                            <h6 class="fw-bold text-primary">üí° Pro Tips for Instagram Hashtags:</h6>
                            <ul class="small mb-0">
                                <li><strong>Use all 30 hashtags</strong> - Instagram allows up to 30, so maximize your reach!</li>
                                <li><strong>Mix popular and niche tags</strong> - Balance between reach and engagement</li>
                                <li><strong>Research competitors</strong> - See what's working in your industry</li>
                                <li><strong>Create branded hashtags</strong> - Build your community with unique tags</li>
                                <li><strong>Avoid banned hashtags</strong> - Our AI filters these out automatically</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Error Section -->
            <div id="errorSection" class="mt-4 d-none">
                <div class="alert alert-danger">
                    <strong>‚ö†Ô∏è Error:</strong> <span id="errorMessage"></span>
                    <button class="btn btn-outline-danger btn-sm ms-2" onclick="document.getElementById('tagGeneratorForm').dispatchEvent(new Event('submit'))">Try Again</button>
                </div>
            </div>
        </div>

        <!-- Sidebar with Tips and Examples -->
        <div class="col-lg-4">
            <div class="card mb-4">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">üéØ Hashtag Examples</h5>
                </div>
                <div class="card-body">
                    <h6 class="fw-bold">Travel Photos:</h6>
                    <div class="hashtag-example mb-3">
                        <small>#travel #wanderlust #vacation #explore #adventure #photography #beautiful #nature #landscape #sunset</small>
                    </div>
                    
                    <h6 class="fw-bold">Food Posts:</h6>
                    <div class="hashtag-example mb-3">
                        <small>#food #foodie #delicious #yummy #cooking #recipe #dinner #lunch #homemade #tasty</small>
                    </div>

                    <h6 class="fw-bold">Fashion Posts:</h6>
                    <div class="hashtag-example">
                        <small>#fashion #style #outfit #ootd #fashionista #trendy #stylish #fashionblogger #lookbook #streetstyle</small>
                    </div>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">üìà Why Use Our Generator?</h5>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-2">‚úÖ <strong>AI-Powered:</strong> Advanced algorithms analyze trending topics</li>
                        <li class="mb-2">‚úÖ <strong>Always Free:</strong> No limits, no subscriptions</li>
                        <li class="mb-2">‚úÖ <strong>Real-time Data:</strong> Updated with latest trends</li>
                        <li class="mb-2">‚úÖ <strong>Multiple Formats:</strong> Copy in any format you need</li>
                        <li class="mb-2">‚úÖ <strong>Mobile Friendly:</strong> Works on all devices</li>
                        <li class="mb-0">‚úÖ <strong>SEO Optimized:</strong> Helps increase your reach</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h5 class="mb-0">üöÄ More Tools</h5>
                </div>
                <div class="card-body">
                    <div class="d-grid gap-2">
                        <a href="/instagram-caption-generator" class="btn btn-outline-primary btn-sm">Caption Generator</a>
                        <a href="/instagram-bio-generator" class="btn btn-outline-success btn-sm">Bio Generator</a>
                        <a href="/youtube-tag-generator" class="btn btn-outline-danger btn-sm">YouTube Tags</a>
                        <a href="/tiktok-hashtag-generator" class="btn btn-outline-dark btn-sm">TikTok Hashtags</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SEO Content Section -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <h2 class="h3 fw-bold mb-4">Complete Guide to Instagram Hashtag Generator - Free AI Tool 2024</h2>
                    
                    <div class="row">
                        <div class="col-lg-8">
                            <h3>What is an Instagram Hashtag Generator?</h3>
                            <p>An Instagram hashtag generator is a powerful AI tool that automatically creates relevant, trending hashtags for your Instagram posts. Our <strong>free Instagram hashtag generator</strong> uses advanced artificial intelligence to analyze your content description and generate up to 50 optimized hashtags that can significantly increase your post's reach and engagement.</p>

                            <h3>How Does Our Instagram Hashtag Generator Work?</h3>
                            <ol>
                                <li><strong>Describe Your Content:</strong> Simply tell our AI about your photo or video - include details about location, mood, style, and subject</li>
                                <li><strong>Choose Your Strategy:</strong> Select from trending hashtags for maximum reach, niche hashtags for engaged audiences, or a balanced mix</li>
                                <li><strong>Generate & Copy:</strong> Get instant results with multiple copy options - with hashtags, text only, or comma-separated</li>
                                <li><strong>Generate More:</strong> Not satisfied? Generate unlimited variations until you find the perfect hashtags</li>
                            </ol>

                            <h3>Best Instagram Hashtag Strategies for 2024</h3>
                            <h4>1. The 30-Hashtag Rule</h4>
                            <p>Instagram allows up to 30 hashtags per post, and research shows that using all 30 can increase engagement by up to 79%. Our generator creates exactly the number you need.</p>

                            <h4>2. Mix Popular and Niche Hashtags</h4>
                            <p>The best strategy combines:</p>
                            <ul>
                                <li><strong>High-volume hashtags</strong> (1M+ posts) for reach</li>
                                <li><strong>Medium hashtags</strong> (100K-1M posts) for competition balance</li>
                                <li><strong>Niche hashtags</strong> (under 100K posts) for targeted engagement</li>
                            </ul>

                            <h4>3. Industry-Specific Hashtags</h4>
                            <p>Our AI understands different industries and generates relevant hashtags for:</p>
                            <ul>
                                <li>Travel and lifestyle content</li>
                                <li>Food and restaurant posts</li>
                                <li>Fashion and beauty</li>
                                <li>Fitness and wellness</li>
                                <li>Business and marketing</li>
                                <li>Photography and art</li>
                            </ul>

                            <h3>Instagram Hashtag Best Practices</h3>
                            <h4>Do's:</h4>
                            <ul>
                                <li>‚úÖ Use all 30 available hashtags</li>
                                <li>‚úÖ Research your audience and competitors</li>
                                <li>‚úÖ Mix trending and evergreen hashtags</li>
                                <li>‚úÖ Create branded hashtags for your business</li>
                                <li>‚úÖ Use location-based hashtags when relevant</li>
                                <li>‚úÖ Monitor hashtag performance and adjust</li>
                            </ul>

                            <h4>Don'ts:</h4>
                            <ul>
                                <li>‚ùå Use banned or flagged hashtags</li>
                                <li>‚ùå Repeat the same hashtags on every post</li>
                                <li>‚ùå Use irrelevant hashtags just because they're popular</li>
                                <li>‚ùå Ignore hashtag analytics and performance</li>
                            </ul>
                        </div>

                        <div class="col-lg-4">
                            <div class="bg-primary text-white p-4 rounded mb-4">
                                <h5>üéØ Quick Results</h5>
                                <ul class="list-unstyled mb-0">
                                    <li>‚Ä¢ Generate up to 50 hashtags instantly</li>
                                    <li>‚Ä¢ Copy in multiple formats</li>
                                    <li>‚Ä¢ Unlimited generations</li>
                                    <li>‚Ä¢ No registration required</li>
                                    <li>‚Ä¢ Works on mobile & desktop</li>
                                    <li>‚Ä¢ 100% free forever</li>
                                </ul>
                            </div>

                            <div class="bg-light p-4 rounded">
                                <h6>Popular Instagram Categories:</h6>
                                <div class="d-flex flex-wrap">
                                    <span class="badge bg-secondary me-1 mb-1">#photooftheday</span>
                                    <span class="badge bg-secondary me-1 mb-1">#instagood</span>
                                    <span class="badge bg-secondary me-1 mb-1">#beautiful</span>
                                    <span class="badge bg-secondary me-1 mb-1">#happy</span>
                                    <span class="badge bg-secondary me-1 mb-1">#fashion</span>
                                    <span class="badge bg-secondary me-1 mb-1">#travel</span>
                                    <span class="badge bg-secondary me-1 mb-1">#food</span>
                                    <span class="badge bg-secondary me-1 mb-1">#lifestyle</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="text-center mt-5">
        <div class="btn-group flex-wrap" role="group">
            <a href="/social-media" class="btn btn-outline-primary">‚Üê Back to Social Media Tools</a>
            <a href="/instagram-caption-generator" class="btn btn-primary">Instagram Captions ‚Üí</a>
        </div>
    </div>
</div>

<style>
.hashtag-container {
    max-height: 400px;
    overflow-y: auto;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 15px;
    background-color: #f8f9fa;
}

.hashtag-tag {
    display: inline-block;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 0.4rem 0.8rem;
    margin: 0.25rem;
    border-radius: 20px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
}

.hashtag-tag:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.hashtag-tag.copied {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    animation: pulse 0.6s ease-in-out;
}

.hashtag-example {
    background-color: #f8f9fa;
    padding: 10px;
    border-radius: 6px;
    font-family: monospace;
}

.stat-number {
    font-size: 1.5rem;
    font-weight: bold;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.form-control:focus, .form-select:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
}

@media (max-width: 768px) {
    .btn-group {
        flex-direction: column;
    }
    
    .btn-group .btn {
        margin-bottom: 0.5rem;
    }
    
    .hashtag-tag {
        font-size: 0.8rem;
        padding: 0.3rem 0.6rem;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('tagGeneratorForm');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const buttonText = document.getElementById('buttonText');
    const resultsSection = document.getElementById('resultsSection');
    const errorSection = document.getElementById('errorSection');
    const hashtagResults = document.getElementById('hashtagResults');
    const copyAllBtn = document.getElementById('copyAllBtn');
    const copyTextOnlyBtn = document.getElementById('copyTextOnlyBtn');
    const regenerateBtn = document.getElementById('regenerateBtn');

    let lastGeneratedTags = [];

    form.addEventListener('submit', async function(e) {
        e.preventDefault();
        await generateHashtags();
    });

    regenerateBtn.addEventListener('click', async function() {
        await generateHashtags();
    });

    copyAllBtn.addEventListener('click', function() {
        const tags = lastGeneratedTags.map(tag => '#' + tag).join(' ');
        copyToClipboard(tags);
        showCopyFeedback(this, 'All hashtags copied!');
    });

    copyTextOnlyBtn.addEventListener('click', function() {
        const tags = lastGeneratedTags.join(' ');
        copyToClipboard(tags);
        showCopyFeedback(this, 'Text copied!');
    });

    async function generateHashtags() {
        const prompt = document.getElementById('contentPrompt').value.trim();
        const style = document.getElementById('tagStyle').value;
        const count = parseInt(document.getElementById('tagCount').value);
        const contentType = document.getElementById('contentType').value;

        if (!prompt) {
            showError('Please describe your Instagram content');
            return;
        }

        const enhancedPrompt = `${prompt} (Content type: ${contentType})`;

        setLoadingState(true);
        hideResults();
        hideError();

        try {
            const response = await fetch('/api/instagram/hashtags', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    prompt: enhancedPrompt,
                    style: style,
                    count: count
                })
            });

            const data = await response.json();

            if (!response.ok) {
                throw new Error(data.error || 'Failed to generate hashtags');
            }

            if (data.success && data.tags) {
                displayResults(data.tags);
                lastGeneratedTags = data.tags;
            } else {
                throw new Error('Invalid response format');
            }

        } catch (error) {
            console.error('Error:', error);
            showError(error.message);
        } finally {
            setLoadingState(false);
        }
    }

    function setLoadingState(loading) {
        const submitBtn = form.querySelector('button[type="submit"]');
        if (loading) {
            loadingSpinner.classList.remove('d-none');
            submitBtn.disabled = true;
            buttonText.textContent = 'Generating Amazing Hashtags...';
        } else {
            loadingSpinner.classList.add('d-none');
            submitBtn.disabled = false;
            buttonText.textContent = 'Generate Instagram Hashtags ‚ú®';
        }
    }

    function displayResults(tags) {
        hashtagResults.innerHTML = '';

        tags.forEach((tag, index) => {
            const tagElement = document.createElement('button');
            tagElement.className = 'hashtag-tag';
            tagElement.textContent = tag;
            tagElement.title = `Click to copy #${tag}`;
            tagElement.addEventListener('click', function() {
                copyToClipboard('#' + tag);
                this.classList.add('copied');
                setTimeout(() => {
                    this.classList.remove('copied');
                }, 1000);
            });
            hashtagResults.appendChild(tagElement);
        });

        // Update stats
        document.getElementById('tagStats').textContent = `${tags.length} hashtags generated`;
        const charCount = tags.map(tag => '#' + tag).join(' ').length;
        document.getElementById('characterCount').textContent = `${charCount} characters`;

        resultsSection.classList.remove('d-none');
        resultsSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    function showError(message) {
        document.getElementById('errorMessage').textContent = message;
        errorSection.classList.remove('d-none');
        errorSection.scrollIntoView({ behavior: 'smooth' });
    }

    function hideError() {
        errorSection.classList.add('d-none');
    }

    function hideResults() {
        resultsSection.classList.add('d-none');
    }

    function copyToClipboard(text) {
        if (navigator.clipboard && window.isSecureContext) {
            navigator.clipboard.writeText(text);
        } else {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            document.execCommand('copy');
            textArea.remove();
        }
    }

    function showCopyFeedback(button, message) {
        const originalText = button.innerHTML;
        button.innerHTML = `<i class="fas fa-check"></i> ${message}`;
        button.classList.add('btn-success');
        button.classList.remove('btn-light');
        
        setTimeout(() => {
            button.innerHTML = originalText;
            button.classList.remove('btn-success');
            button.classList.add('btn-light');
        }, 2000);
    }

    // Copy format functions
    window.copyFormatted = function(format) {
        let text = '';
        switch(format) {
            case 'hash':
                text = lastGeneratedTags.map(tag => '#' + tag).join(' ');
                break;
            case 'space':
                text = lastGeneratedTags.join(' ');
                break;
            case 'comma':
                text = lastGeneratedTags.join(', ');
                break;
            case 'lines':
                text = lastGeneratedTags.map(tag => '#' + tag).join('\n');
                break;
        }
        copyToClipboard(text);
        
        // Show feedback
        const button = event.target;
        showCopyFeedback(button, 'Copied!');
    };
});
</script>
{% endblock %}